<!DOCTYPE html>
<html lang="CH">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>C++基础知识 - 小草喔</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="C++基础知识">
<meta name="keywords" content="c&#x2F;c++">
<meta property="og:type" content="article">
<meta property="og:title" content="C++基础知识">
<meta property="og:url" content="https://chsmy.github.io/2019/05/19/technology/C-基础知识/index.html">
<meta property="og:site_name" content="小草喔">
<meta property="og:description" content="C++基础知识">
<meta property="og:locale" content="CHS">
<meta property="og:updated_time" content="2019-05-19T12:27:04.175Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C++基础知识">
<meta name="twitter:description" content="C++基础知识">





<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/darcula.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-72437521-5"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-72437521-5');
</script>


    
    
    
    
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1067642,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>


    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="C++基础知识" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">首页</a>
                
                <a class="navbar-item" href="/archives">归档</a>
                
                <a class="navbar-item" href="/categories">分类</a>
                
                <a class="navbar-item" href="/tags">标签</a>
                
                <a class="navbar-item" href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/chsmy">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="Catálogo" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-05-19T12:15:25.000Z">2019-05-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android/">Android</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Android/c-c/">c/c++</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    an hour read (About 6819 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                C++基础知识
            
        </h1>
        <div class="content">
            <p>C++基础知识</p>
<a id="more"></a>
<h4 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h4><p>从hello wrld开始</p>
<p>需要导入iostream这个头文件</p>
<p>c++中打印使用cout关键字。不过使用的时候需要加上命名空间std。<br>每次都加std太麻烦，可以在外面声明一个全局的<code>using namespace std</code></p>
<p>命名空间相当于java中的包，主要为了防止重名</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-comment">//没声明之前</span></span><br><span class="line">	<span class="hljs-comment">//std::cout &lt;&lt; "hello world" &lt;&lt; std::endl;</span></span><br><span class="line">	<span class="hljs-comment">//声明之后</span></span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"hello world"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="自定义命名空间"><a href="#自定义命名空间" class="headerlink" title="自定义命名空间"></a>自定义命名空间</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">namespace</span> NSP_A &#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> a = <span class="hljs-number">1</span>;</span><br><span class="line">	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">student</span> &#123;</span></span><br><span class="line">		<span class="hljs-keyword">int</span> age;</span><br><span class="line">		<span class="hljs-keyword">char</span> *name;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">namespace</span> NSP_B &#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> a = <span class="hljs-number">2</span>;</span><br><span class="line">	<span class="hljs-comment">//命名空间嵌套</span></span><br><span class="line">	<span class="hljs-keyword">namespace</span> NSP_C &#123;</span><br><span class="line">		<span class="hljs-keyword">int</span> c = <span class="hljs-number">90</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; NSP_A::a &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; NSP_B::a &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; NSP_B::NSP_C::c &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-comment">//使用命名空间中的结构体</span></span><br><span class="line">	<span class="hljs-keyword">using</span> NSP_A::student;</span><br><span class="line">	student t;</span><br><span class="line">	t.age = <span class="hljs-number">20</span>;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; t.age &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>C中没有布尔类型，C++中有了布尔类型，使用bool修饰。bool类型在内存中占一个字节。</p>
<p>C++中也有跟java一样的三目运算，不过C++中的三目运算运算完之后可以直接赋值，java中不可以。<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">bool</span> success = <span class="hljs-literal">true</span>;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">if</span> (success) &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"成功"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">bool</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">else</span> &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"失败"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//三目运算，最后可以直接复制</span></span><br><span class="line">	<span class="hljs-keyword">int</span> a = <span class="hljs-number">10</span>, b = <span class="hljs-number">20</span>;</span><br><span class="line">	((a &gt; b) ? a : b) = <span class="hljs-number">30</span>;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; b &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="C-中的引用。"><a href="#C-中的引用。" class="headerlink" title="C++中的引用。"></a>C++中的引用。</h4><p>使用&amp;符号修饰。</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> a = <span class="hljs-number">20</span>;</span><br><span class="line">	<span class="hljs-keyword">int</span> &amp;b = a;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; b &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码中，b是a的引用。相当于a的一个别名。它跟指针不同，指针是指向变量的地址，引用只是变量的一个别名。</p>
<p>引用和指针的比较：</p>
<ol>
<li>引用能干的事情，指针都能干，不过引用写起来别指针方便。引用可以直接操作变量，而指针需要在前面加个*</li>
<li>引用必须要有值不能为空。比如我们向一个函数传递一个引用参数，如果为空的话，编译期间就会报错，而如果是传递指针，指针可以为空，编译期间不报错，运行时就会报错了。这样来看使用引用更好。</li>
</ol>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//指针值交换</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swap_1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> *a, <span class="hljs-keyword">int</span> *b)</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> c = <span class="hljs-number">0</span>;</span><br><span class="line">	c = *a;</span><br><span class="line">	*a = *b;</span><br><span class="line">	*b = c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-comment">//引用值交换</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swap_2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;a, <span class="hljs-keyword">int</span> &amp;b)</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> c = <span class="hljs-number">0</span>;</span><br><span class="line">	c = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> x = <span class="hljs-number">10</span>;</span><br><span class="line">	<span class="hljs-keyword">int</span> y = <span class="hljs-number">20</span>;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d,%d\n"</span>, x, y);</span><br><span class="line">	<span class="hljs-comment">//swap_1(&amp;x, &amp;y);</span></span><br><span class="line">	swap_2(x, y);</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d,%d\n"</span>, x, y);</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>引用主要用到的地方</p>
<ol>
<li><p>作为函数的参数或者返回值</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Teacher</span>&#123;</span></span><br><span class="line">	<span class="hljs-keyword">char</span>* name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-comment">//引用作为参数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">(Teacher &amp;t)</span></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; t.name &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; t.age &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	t.age = <span class="hljs-number">21</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-comment">//指针作为参数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint2</span><span class="hljs-params">(Teacher *t)</span></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//(*t).name </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	Teacher t;</span><br><span class="line">	t.name = <span class="hljs-string">"Jason"</span>;</span><br><span class="line">	t.age = <span class="hljs-number">20</span>;</span><br><span class="line">	myprint(t);</span><br><span class="line">	myprint2(&amp;t);</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>拿指针的引用来代替二级指针</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Teacher</span> &#123;</span></span><br><span class="line">	<span class="hljs-keyword">char</span>* name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-comment">//使用二级指针</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getTeacher</span><span class="hljs-params">(Teacher **p)</span> </span>&#123;</span><br><span class="line">	Teacher *tmp = (Teacher*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Teacher));</span><br><span class="line">	tmp-&gt;age = <span class="hljs-number">20</span>;</span><br><span class="line">	*p = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-comment">//使用引用</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getTeacher</span><span class="hljs-params">(Teacher* &amp;p)</span> </span>&#123;</span><br><span class="line">	p = (Teacher*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Teacher));</span><br><span class="line">	p-&gt;age = <span class="hljs-number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	Teacher *t = <span class="hljs-literal">NULL</span>;</span><br><span class="line">	getTeacher(&amp;t);</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>指针常量和常量指针</p>
<p>指针常量：就是不改变地址，但是可以改变它所指向的内容</p>
<p>常量指针：就是指向一个常量的指针，这个常量不可以被修改</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-comment">//指针常量</span></span><br><span class="line">	<span class="hljs-keyword">int</span> a = <span class="hljs-number">2</span>, b = <span class="hljs-number">3</span>;</span><br><span class="line">	<span class="hljs-keyword">int</span> *<span class="hljs-keyword">const</span> p1 = &amp;a;</span><br><span class="line">	<span class="hljs-comment">//p1 = &amp;b; 是错误的地址不能改变</span></span><br><span class="line">	*p1 = <span class="hljs-number">4</span>;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//常量指针</span></span><br><span class="line">	<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> *p2 = &amp;a;</span><br><span class="line">	p2 = &amp;b;</span><br><span class="line">	<span class="hljs-comment">//*p2 = 9; 是错误的，值不能改变</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">teacher</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-comment">//构造函数，相当于activity中的onCreate</span></span><br><span class="line">	teacher();</span><br><span class="line">	<span class="hljs-comment">//析构函数,相当于activity中的onDestory</span></span><br><span class="line">	~teacher();</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line">	</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span></span>&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = <span class="hljs-number">20</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getage</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-comment">//无参构造函数</span></span><br><span class="line">teacher::teacher()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-comment">//有参构造函数，有参构造函数会覆盖默认的构造函数</span></span><br><span class="line">teacher::teacher(<span class="hljs-keyword">char</span>*name,<span class="hljs-keyword">int</span> age)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">teacher::~teacher()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	&#123;</span><br><span class="line">		teacher t;</span><br><span class="line">		t.setage(<span class="hljs-number">20</span>);</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; t.getage() &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>除了构造函数，析构函数，C++中还有拷贝构造函数。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span> *name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Teacher(<span class="hljs-keyword">char</span> *name, <span class="hljs-keyword">int</span> age)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//拷贝构造函数（值拷贝）</span></span><br><span class="line">	<span class="hljs-comment">//默认拷贝构造函数，就是值拷贝</span></span><br><span class="line">	Teacher(<span class="hljs-keyword">const</span> Teacher &amp;obj)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = obj.name;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = obj.age;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"拷贝构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>上面代码中的拷贝构造函数就是默认的拷贝构造函数，不写它也会存在。</p>
<p>默认的拷贝构造函数拷贝的是指。这样有时候会有问题，比如下面，将t2赋值给t2，他俩都指向同一块内存区域，当t1调用了它的析构函数释放了内存之后，t2在释放内存就会出错。这种称为浅拷贝<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span> *name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Teacher(<span class="hljs-keyword">char</span> *name, <span class="hljs-keyword">int</span> age)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = (<span class="hljs-keyword">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">100</span>);</span><br><span class="line">		<span class="hljs-built_in">strcpy</span>(<span class="hljs-keyword">this</span>-&gt;name,name);</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;	</span><br><span class="line">	~Teacher()&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"析构"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">		<span class="hljs-comment">//释放内存</span></span><br><span class="line">		<span class="hljs-built_in">free</span>(<span class="hljs-keyword">this</span>-&gt;name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; age &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-function">Teacher <span class="hljs-title">t1</span><span class="hljs-params">(<span class="hljs-string">"rose"</span>, <span class="hljs-number">20</span>)</span></span>;</span><br><span class="line">	Teacher t2 = t1;</span><br><span class="line">	t2.myprint();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	func();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>为了避免上面的问题，我们可以复写默认的拷贝构造函数，不拷贝值而是重新申请内存拷贝内容。<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span> *name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Teacher(<span class="hljs-keyword">char</span> *name, <span class="hljs-keyword">int</span> age)&#123;</span><br><span class="line">		<span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(name);</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = (<span class="hljs-keyword">char</span>*)<span class="hljs-built_in">malloc</span>(len+<span class="hljs-number">1</span>);</span><br><span class="line">		<span class="hljs-built_in">strcpy</span>(<span class="hljs-keyword">this</span>-&gt;name, name);</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Teacher()&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"析构"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">		<span class="hljs-comment">//释放内存</span></span><br><span class="line">		<span class="hljs-built_in">free</span>(<span class="hljs-keyword">this</span>-&gt;name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//深拷贝</span></span><br><span class="line">	Teacher(<span class="hljs-keyword">const</span> Teacher &amp;obj)&#123;</span><br><span class="line">		<span class="hljs-comment">//复制name属性</span></span><br><span class="line">		<span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(obj.name);</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = (<span class="hljs-keyword">char</span>*)<span class="hljs-built_in">malloc</span>(len+<span class="hljs-number">1</span>);</span><br><span class="line">		<span class="hljs-built_in">strcpy</span>(<span class="hljs-keyword">this</span>-&gt;name,obj.name);</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = obj.age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; age &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-function">Teacher <span class="hljs-title">t1</span><span class="hljs-params">(<span class="hljs-string">"rose"</span>, <span class="hljs-number">20</span>)</span></span>;</span><br><span class="line">	Teacher t2 = t1;</span><br><span class="line">	t2.myprint();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	func();</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>C++可以和C混编，所以C++中也可以使用结构体，虽然跟C中一样也叫struct，不过对C中的struct做了一些扩展。<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">teacher</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">teacher</span> <span class="hljs-title">t</span>;</span></span><br><span class="line">		t.setAge(<span class="hljs-number">20</span>);</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; t.getAge() &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>struct默认为public，class默认为private。</p>
<p>class可以用来声明模板，struct不可以。</p>
<p>前面只是简单的了解了类，C++中写一个类，一般先写一个头文件，在里面声明要写的类，然后写一个C++文件来实现这个类中的方法。最后在main中使用。</p>
<p>头文件：student.h<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//保证只会被引用一次，防止重复引用</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">student</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line">	<span class="hljs-keyword">char</span>* name;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span></span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span></span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(<span class="hljs-keyword">char</span>* name)</span></span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>然后写student.cpp<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"student.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">void</span> student::setAge(<span class="hljs-keyword">int</span> age) &#123;</span><br><span class="line">	<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">int</span> student::getAge() &#123;</span><br><span class="line">	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">void</span> student::setName(<span class="hljs-keyword">char</span>* name) &#123;</span><br><span class="line">	<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">char</span>* student::getName() &#123;</span><br><span class="line">	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后main中调用<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	student s;</span><br><span class="line">	s.age = <span class="hljs-number">20</span>;</span><br><span class="line">	<span class="hljs-keyword">char</span> name[] = <span class="hljs-string">"cha"</span>;</span><br><span class="line">	s.setName(name);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; s.getName() &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="构造函数的属性初始化"><a href="#构造函数的属性初始化" class="headerlink" title="构造函数的属性初始化"></a>构造函数的属性初始化</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span>* name;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Teacher(<span class="hljs-keyword">char</span>* name) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Teacher() &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> id;</span><br><span class="line">	<span class="hljs-comment">//属性对象</span></span><br><span class="line">	Teacher t1;</span><br><span class="line">	Teacher t2;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Student(<span class="hljs-keyword">int</span> id, <span class="hljs-keyword">char</span> *t1_n, <span class="hljs-keyword">char</span>* t2_n) : t1(t1_n), t2(t2_n) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;id = id;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Student有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; id &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; t1.getName() &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; t2.getName() &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Student() &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Student析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">char</span> name[] = <span class="hljs-string">"cha"</span>;</span><br><span class="line">	<span class="hljs-function">Student <span class="hljs-title">s1</span><span class="hljs-params">(<span class="hljs-number">15</span>, name, name)</span></span>;</span><br><span class="line">	<span class="hljs-comment">//Student s2(20, name, name);</span></span><br><span class="line">	s1.myprint();</span><br><span class="line">	<span class="hljs-comment">//s2.myprint();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	func();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>怎么给Student中的成员变量Teacher中的name属性赋值呢？经过尝试是不能从构造方法中直接赋值的编译不通过，我们可以通过在构造函数后面加上一个冒号从后面赋值比如<code>: t1(t1_n), t2(t2_n)</code></p>
<p>上面的代码，Student类中有Teacher类这个成员变量，那么他们的构造函数和析构函数式什么时候调用的呢？运行之后结果如下<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Teacher有参构造函数</span><br><span class="line">Teacher有参构造函数</span><br><span class="line">Student有参构造函数</span><br><span class="line">15,cha,cha</span><br><span class="line">Student析构函数</span><br><span class="line">Teacher析构函数</span><br><span class="line">Teacher析构函数</span><br></pre></td></tr></table></figure></p>
<p>可以看到，创建的时候，内部成员先调用构造函数，然后自身在调用。销毁的时候，自身先调用析构函数，内部成员在调用析构函数。</p>
<h4 id="C-动态内存分配"><a href="#C-动态内存分配" class="headerlink" title="C++动态内存分配"></a>C++动态内存分配</h4><ul>
<li>c++中通过new关键字分配内存，通过delete关键字释放内存</li>
<li>c中通过malloc关键字申请内存，通过free关键字释放内存。</li>
</ul>
<p>c++中也可以通过malloc和free来管理内存，跟第一种的区别是，通过new和delete管理，会执行构造函数和析构函数，而通过malloc和free来管理内存，不会执行构造函数和析构函数。</p>
<p>数组释放的时候，需要使用delete[]。</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* name;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Teacher(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* name) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Teacher() &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(<span class="hljs-keyword">char</span>* name)</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-comment">//C++	</span></span><br><span class="line">	<span class="hljs-comment">//会调用构造和析构函数</span></span><br><span class="line">	Teacher *t1 = <span class="hljs-keyword">new</span> Teacher(<span class="hljs-string">"jack"</span>);</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; t1-&gt;getName() &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-comment">//释放</span></span><br><span class="line">	<span class="hljs-keyword">delete</span> t1;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//C</span></span><br><span class="line">	<span class="hljs-comment">//Teacher *t2 = (Teacher*)malloc(sizeof(Teacher));</span></span><br><span class="line">	<span class="hljs-comment">//t2-&gt;setName("jack");</span></span><br><span class="line">	<span class="hljs-comment">//free(t2);</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	func();</span><br><span class="line">	<span class="hljs-comment">//数组类型</span></span><br><span class="line">	<span class="hljs-comment">//C</span></span><br><span class="line">	<span class="hljs-comment">//int *p1 = (int*)malloc(sizeof(int) * 10);</span></span><br><span class="line">	<span class="hljs-comment">//p1[0] = 9;</span></span><br><span class="line">	<span class="hljs-comment">//free(p1);</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//C++</span></span><br><span class="line">	<span class="hljs-keyword">int</span> *p2 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">10</span>];</span><br><span class="line">	p2[<span class="hljs-number">0</span>] = <span class="hljs-number">2</span>;</span><br><span class="line">	<span class="hljs-comment">//释放数组 []</span></span><br><span class="line">	<span class="hljs-keyword">delete</span>[] p2;</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-中的静态属性和方法"><a href="#C-中的静态属性和方法" class="headerlink" title="C++中的静态属性和方法"></a>C++中的静态属性和方法</h4><p>静态类型的属性不能再main函数中初始化，应该在全局初始化</p>
<p>访问的时候，可以通过类名直接访问，也可以通过类对象访问<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span>* name;</span><br><span class="line">	<span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> total;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Teacher(<span class="hljs-keyword">char</span>* name) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Teacher() &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(<span class="hljs-keyword">char</span>* name)</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//静态函数</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">count</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		total++;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; total &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//静态属性初始化赋值</span></span><br><span class="line"><span class="hljs-keyword">int</span> Teacher::total = <span class="hljs-number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	Teacher::total++;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; Teacher::total &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-comment">//直接通过类名访问</span></span><br><span class="line">	Teacher::count();</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//也可以通过对象名访问</span></span><br><span class="line">	<span class="hljs-function">Teacher <span class="hljs-title">t1</span><span class="hljs-params">((<span class="hljs-keyword">char</span>*)<span class="hljs-string">"yuehang"</span>)</span></span>;</span><br><span class="line">	t1.count();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="C-中类的大小"><a href="#C-中类的大小" class="headerlink" title="C++中类的大小"></a>C++中类的大小</h4><p>C/C++ 内存分区：栈、堆、全局（静态、全局）、常量区（字符串）、程序代码区</p>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> i;</span><br><span class="line">	<span class="hljs-keyword">int</span> j;</span><br><span class="line">	<span class="hljs-keyword">int</span> k;</span><br><span class="line">	<span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> i;</span><br><span class="line">	<span class="hljs-keyword">int</span> j;</span><br><span class="line">	<span class="hljs-keyword">int</span> k;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprintf</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"方法"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">sizeof</span>(A) &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">sizeof</span>(B) &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码中打印的结果都是12。因为静态变量和函数都是共享的，不包含在类的里面。</p>
<p>既然函数是共享的，那怎么知道是谁调用了它呢，调用的时候传入this，就可以区别开了。this是当前对象的指针。<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span>* name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Teacher(<span class="hljs-keyword">char</span>* name,<span class="hljs-keyword">int</span> age)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher有参构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Teacher()&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Teacher析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//常函数，修饰的是this</span></span><br><span class="line">	<span class="hljs-comment">//既不能改变指针的值，又不能改变指针指向的内容</span></span><br><span class="line">	<span class="hljs-comment">//const Teacher* const this</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%#x\n"</span>,<span class="hljs-keyword">this</span>);</span><br><span class="line">		<span class="hljs-comment">//改变属性的值是不行的</span></span><br><span class="line">		<span class="hljs-comment">//this-&gt;name = "yuehang";</span></span><br><span class="line">		<span class="hljs-comment">//改变this指针的值也是不行的</span></span><br><span class="line">		<span class="hljs-comment">//this = (Teacher*)0x00009;</span></span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;name &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;age &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint2</span><span class="hljs-params">()</span></span>&#123;		</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;name &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;age &lt;&lt; <span class="hljs-built_in">endl</span>;		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-function">Teacher <span class="hljs-title">t1</span><span class="hljs-params">((<span class="hljs-keyword">char</span>*)<span class="hljs-string">"jack"</span>,<span class="hljs-number">20</span>)</span></span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">const</span> Teacher <span class="hljs-title">t2</span><span class="hljs-params">((<span class="hljs-keyword">char</span>*)<span class="hljs-string">"rose"</span>, <span class="hljs-number">18</span>)</span></span>;</span><br><span class="line">	<span class="hljs-comment">//常量对象只能调用常量函数，不能调用非常量函数</span></span><br><span class="line">	<span class="hljs-comment">//t2.myprint2(); </span></span><br><span class="line">	<span class="hljs-comment">//常函数，当前对象不能被修改，防止数据成员被非法访问</span></span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%#x\n"</span>, &amp;t1);</span><br><span class="line">	t1.myprint();</span><br><span class="line"></span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%#x\n"</span>, &amp;t2);</span><br><span class="line">	t2.myprint();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面的代码中 ，使用const来修饰一个函数，这个函数就是一个常量函数。如果一个类中有常量函数，那么这个类的对象不能被修改。可以防止类中的属性被非法访问。</p>
<h4 id="友元函数和友元类"><a href="#友元函数和友元类" class="headerlink" title="友元函数和友元类"></a>友元函数和友元类</h4><p>友元函数：<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> &#123;</span></span><br><span class="line">	<span class="hljs-comment">//友元函数</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-keyword">void</span> <span class="hljs-title">modify_i</span><span class="hljs-params">(A *p, <span class="hljs-keyword">int</span> a)</span></span>;</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> i;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	A(<span class="hljs-keyword">int</span> i) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;i = i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify_i</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;i = a;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-comment">//友元函数的实现，在友元函数中可以访问私有的属性</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify_i</span><span class="hljs-params">(A *p, <span class="hljs-keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">	p-&gt;i = a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	A* a = <span class="hljs-keyword">new</span> A(<span class="hljs-number">10</span>);</span><br><span class="line">	a-&gt;myprint();</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//modify_i(a, 20);</span></span><br><span class="line">	<span class="hljs-comment">//a-&gt;modify_i(20);</span></span><br><span class="line">	a-&gt;myprint();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>正常情况下，A中的属性i是私有的，不能被外部修改，如果非得要修改的话，可以通过友元函数。使用friend关键字修饰，比如上面定义一个友元函数modify_i。通过这个函数就可以修改私有属性i了。</p>
<p>友元函数，我们可以在类的内部实现，也可以在外部实现，如上面的代码。</p>
<p>友元类：<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span> &#123;</span></span><br><span class="line">	<span class="hljs-comment">//友元类</span></span><br><span class="line">	<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span>;</span></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> i;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	A(<span class="hljs-keyword">int</span> i) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;i = i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-comment">//B这个友元类可以访问A类的任何成员</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">accessAny</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		a.i = <span class="hljs-number">30</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	A a;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>友元类也是通过friend关键字修饰。在类A中声明友元类B，那么B中就可以访问和修改A中的私有变量了。</p>
<h4 id="C-中的运算符重载"><a href="#C-中的运算符重载" class="headerlink" title="C++中的运算符重载"></a>C++中的运算符重载</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> x;</span><br><span class="line">	<span class="hljs-keyword">int</span> y;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Point(<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-keyword">int</span> y = <span class="hljs-number">0</span>) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;x = x;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;y = y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//成员函数，运算符重载</span></span><br><span class="line">	Point <span class="hljs-keyword">operator</span>+(Point &amp;p2)&#123;</span><br><span class="line">		<span class="hljs-function">Point <span class="hljs-title">tmp</span><span class="hljs-params">(<span class="hljs-keyword">this</span>-&gt;x + p2.x, <span class="hljs-keyword">this</span>-&gt;y + p2.y)</span></span>;</span><br><span class="line">		<span class="hljs-keyword">return</span> tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myprint</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; y &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//重载+号</span></span><br><span class="line">Point <span class="hljs-keyword">operator</span>+(Point &amp;p1, Point &amp;p2) &#123;</span><br><span class="line">	<span class="hljs-function">Point <span class="hljs-title">tmp</span><span class="hljs-params">(p1.x + p2.x, p1.y + p2.y)</span></span>;</span><br><span class="line">	<span class="hljs-keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-function">Point <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)</span></span>;</span><br><span class="line">	<span class="hljs-function">Point <span class="hljs-title">p2</span><span class="hljs-params">(<span class="hljs-number">20</span>, <span class="hljs-number">10</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	Point p3 = p1 + p2;</span><br><span class="line">	p3.myprint();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码中，执行p1+p2让结果p3中的数值是p1和p2中的数值之和。这时候就用到运算符的重载。使用operator关键字来修饰，上面例子中修饰了加号，我们同样可以修饰减号，乘号，除号等。</p>
<p>跟前面的友元函数一样，我们可以把重载函数写在类的里面，也可以写在外面，如上面代码中，取其一即可。</p>
<p>前面运算符重载的代码中，重载的属性x和y都是public（公有的），假如是私有的属性，外面不能访问这时候可以通过友元函数来完成运算符的重载比如:<code>friend Point operator+(Point &amp;p1, Point &amp;p2);</code></p>
<h4 id="继承多态"><a href="#继承多态" class="headerlink" title="继承多态"></a>继承多态</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Man</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Man(<span class="hljs-keyword">char</span>* name, <span class="hljs-keyword">int</span> age) &#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Man 构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Man() &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Man 析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sayHai</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"hai"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span> * name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> &#123;</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> :</span> <span class="hljs-keyword">public</span> Man , <span class="hljs-keyword">public</span> Animal &#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Student(<span class="hljs-keyword">char</span>* gride) :Man((<span class="hljs-keyword">char</span>*)<span class="hljs-string">"jack"</span>,<span class="hljs-number">18</span>) &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Student 构造函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	~Student() &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Student 析构函数"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">study</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"学习"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sayHai</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Student hai"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span> *gride;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-comment">//父类构造函数先调用</span></span><br><span class="line">	<span class="hljs-comment">//子类的析构函数先调用</span></span><br><span class="line">	<span class="hljs-function">Student <span class="hljs-title">s</span><span class="hljs-params">((<span class="hljs-keyword">char</span>*)<span class="hljs-string">"chs"</span>)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	func();</span><br><span class="line"></span><br><span class="line">	<span class="hljs-function">Student <span class="hljs-title">s</span><span class="hljs-params">((<span class="hljs-keyword">char</span>*)<span class="hljs-string">"100"</span>)</span></span>;</span><br><span class="line">	s.sayHai();</span><br><span class="line">	s.Man::sayHai();</span><br><span class="line">	<span class="hljs-comment">//1.父类类型的引用或指针</span></span><br><span class="line">	Man *m_p = &amp;s;</span><br><span class="line">	m_p-&gt;sayHai();</span><br><span class="line"></span><br><span class="line">	Man &amp;m = s;</span><br><span class="line">	m.sayHai();</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>C++中继承使用冒号来修饰，跟java不一样，C++中可以多继承。比如下面代码，Student继承自人和动物。</li>
<li>子类向构造方法传参，java中可以直接使用super关键字，c++中没有，想要传参需要在子类构造方法后面传比如<code>: Man((char*)&quot;jack&quot;,18)</code></li>
<li>父类的构造函数先执行，子类的析构函数先执行。</li>
<li>如果子类中有跟父类同名的方法，比如上面代码中的sayHai方法，使用子类对象调用的时候调用的是子类的sayHai，如果想调用父类的此函数，需要指定父类显示调用如<code>s.Man::sayHai();</code></li>
<li>上面代码可以看到，继承的时候父类前面都加了访问修饰符。一般情况下都使用public，默认是private</li>
</ol>
<table>
<thead>
<tr>
<th>基类</th>
<th>继承方式</th>
<th>子类</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>public继承</td>
<td>public</td>
</tr>
<tr>
<td>public</td>
<td>protected继承</td>
<td>protected</td>
</tr>
<tr>
<td>public</td>
<td>private继承</td>
<td>private</td>
</tr>
<tr>
<td>protected</td>
<td>public继承</td>
<td>protected</td>
</tr>
<tr>
<td>protected</td>
<td>protected继承</td>
<td>protected</td>
</tr>
<tr>
<td>protected</td>
<td>private继承</td>
<td>private</td>
</tr>
<tr>
<td>private</td>
<td>public继承</td>
<td>子类无权访问</td>
</tr>
<tr>
<td>private</td>
<td>protected继承</td>
<td>子类无权访问</td>
</tr>
<tr>
<td>private</td>
<td>private继承</td>
<td>子类无权访问</td>
</tr>
</tbody>
</table>
<h4 id="虚继承和虚函数"><a href="#虚继承和虚函数" class="headerlink" title="虚继承和虚函数"></a>虚继承和虚函数</h4><p>虚继承： 不同路径继承来的同名成员只有一份拷贝。<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span>* name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A1</span> :</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> A&#123;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A2</span> :</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> A&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> :</span> <span class="hljs-keyword">public</span> A1, <span class="hljs-keyword">public</span> A2&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	B b;	</span><br><span class="line">	b.name = <span class="hljs-string">"大海"</span>;</span><br><span class="line">	<span class="hljs-comment">//如果没有 virtual关键字只能 指定父类显示调用</span></span><br><span class="line">	<span class="hljs-comment">//b.A1::name = "大海";</span></span><br><span class="line">	<span class="hljs-comment">//b.A2::name = "大海";</span></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面的代码中A1,A2都继承A，B继承了A1和A2，A中有个name属性，那么如果我们调用b.name就会报错，因为系统不知道你是调用A1的还是A2的。这时候只能显示的调用指定调用哪一个的比如<code>b.A1::name = &quot;大海&quot;</code>。</p>
<p>正常情况下我们希望直接使用b.name就能调用，这时候继承的时候使用virtual关键字来修饰A，就可以了，这是虚继承。</p>
<p>虚函数： 相当于java中的多态。使用多态可以增加程序的可扩展性，使用virtual关键字修饰函数</p>
<p>动态多态：程序运行过程中，觉得哪一个函数被调用（重写）</p>
<p>静态多态：重载</p>
<p>能够使用多态的条件：</p>
<ol>
<li>使用了继承</li>
<li>父类的引用指向子类的实现</li>
<li>子类重写了父类的函数</li>
</ol>
<p>例子：</p>
<p>定义一个动物基类<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">drink</span><span class="hljs-params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Animal.h"</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">void</span> Animal::eat()&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"吃"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">void</span> Animal::drink() &#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"喝"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>定义一个兔子继承动物<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Animal.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rabbit</span> :</span> <span class="hljs-keyword">public</span> Animal &#123;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">eat</span><span class="hljs-params">()</span></span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">drink</span><span class="hljs-params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Rabbit.h"</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">void</span> Rabbit::eat()&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"兔子吃"</span> &lt;&lt;<span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">void</span> Rabbit::drink() &#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"兔子喝"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用：业务函数中需要传入一个基类Animal，使用的时候，Animal的子类和和它自己都能传入，使用虚函数之后，就可以调用自己的相关方法了。<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Animal.h"</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"Rabbit.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//业务函数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bizAnimal</span><span class="hljs-params">(Animal &amp;a)</span> </span>&#123;</span><br><span class="line">	a.eat();</span><br><span class="line">	a.drink();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	Animal a;</span><br><span class="line">	bizAnimal(a);</span><br><span class="line">	</span><br><span class="line">	Rabbit r;</span><br><span class="line">	bizAnimal(r);</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="纯虚函数"><a href="#纯虚函数" class="headerlink" title="纯虚函数"></a>纯虚函数</h4><p>纯虚函数相当于java中的抽象类</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-comment">//纯虚函数</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sayArea</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"hi"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-comment">//圆</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> :</span> <span class="hljs-keyword">public</span> Shape&#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Circle(<span class="hljs-keyword">int</span> r)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;r = r;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sayArea</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"圆的面积："</span> &lt;&lt; (<span class="hljs-number">3.14</span> * r * r) &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> r;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//Shape s;</span></span><br><span class="line">	<span class="hljs-function">Circle <span class="hljs-title">c</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>当一个类有一个纯虚函数的时候，这个类就是一个抽象类。</li>
<li>抽象类不能实例化对象</li>
<li>子类继承抽象类，必须要实现纯虚函数，如果没有实现，那么子类也是抽象类。</li>
<li>接口跟抽象类的写法一模一样，只是用到的时候，逻辑上叫它接口。</li>
</ol>
<h4 id="模板函数和模板类"><a href="#模板函数和模板类" class="headerlink" title="模板函数和模板类"></a>模板函数和模板类</h4><p>模板函数相当于java中的泛型，泛型主要解决业务逻辑一样，数据类型不一样的问题</p>
<p>比如下面代码</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">int</span>&amp; a,<span class="hljs-keyword">int</span>&amp; b)</span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> tmp = <span class="hljs-number">0</span>;</span><br><span class="line">	tmp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(<span class="hljs-keyword">char</span>&amp; a, <span class="hljs-keyword">char</span>&amp; b)</span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">char</span> tmp = <span class="hljs-number">0</span>;</span><br><span class="line">	tmp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这两个函数都是实现的一样的功能就是交换，只是传入的数据不一样，这时候就可以抽取一个模板。使用template关键字来修饰，让类型自动推导。</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(T&amp; a, T&amp; b)</span></span>&#123;</span><br><span class="line">	T tmp = <span class="hljs-number">0</span>;</span><br><span class="line">	tmp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//根据实际类型，自动推导</span></span><br><span class="line">	<span class="hljs-keyword">int</span> a = <span class="hljs-number">10</span>, b = <span class="hljs-number">20</span>;</span><br><span class="line">	swap&lt;<span class="hljs-keyword">int</span>&gt;(a,b);</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; b &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">char</span> x = <span class="hljs-string">'v'</span>, y = <span class="hljs-string">'w'</span>;</span><br><span class="line">	swap(x, y);</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; y &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>模板类：<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//模板类</span></span><br><span class="line"><span class="hljs-keyword">template</span>&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">A</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	A(T a)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;a = a;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line">	T a;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//普通类继承模板类</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> :</span> <span class="hljs-keyword">public</span> A&lt;<span class="hljs-keyword">int</span>&gt;&#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	B(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b) : A&lt;<span class="hljs-keyword">int</span>&gt;(a)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;b = b;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">int</span> b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//模板类继承模板类</span></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-title">class</span> <span class="hljs-title">C</span> :</span> <span class="hljs-keyword">public</span> A&lt;T&gt;&#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	C(T c, T a) : A&lt;T&gt;(a)&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;c = c;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">protected</span>:</span><br><span class="line">	T c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//实例化模板类对象</span></span><br><span class="line">	<span class="hljs-comment">//List&lt;String&gt; list;</span></span><br><span class="line">	A&lt;<span class="hljs-keyword">int</span>&gt; a(<span class="hljs-number">6</span>);</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h4><p>C++ 异常处理，根据抛出的异常数据类型，进入到相应的catch块中<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">void main() &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			int age = 300;</span><br><span class="line">			if (age &gt; 200) &#123;</span><br><span class="line">				throw &quot;10.0&quot;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		catch (int a) &#123;</span><br><span class="line">			cout &lt;&lt; &quot;int异常&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		catch (const char *b) &#123;</span><br><span class="line">			cout &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		catch (...) &#123;</span><br><span class="line">			cout &lt;&lt; &quot;未知异常&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">	system(&quot;pause&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码中我们throw什么类型的异常，就会进入对应的下面catch中。<code>catch (...)</code>代表捕获为止异常。</p>
<p>我们也可以自定义自己的异常类<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyException</span> &#123;</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mydiv</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">		<span class="hljs-keyword">throw</span> MyException();</span><br><span class="line">		<span class="hljs-comment">//不要抛出异常指针		</span></span><br><span class="line">		<span class="hljs-comment">//throw new MyException; </span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">try</span> &#123;</span><br><span class="line">		mydiv(<span class="hljs-number">8</span>, <span class="hljs-number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">catch</span> (MyException&amp; e2) &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"MyException引用"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">catch</span> (MyException* e1) &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"MyException指针"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">		<span class="hljs-keyword">delete</span> e1;</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，定义自己的异常类<code>MyException</code>，抛出异常的时候可以直接<code>throw MyException()</code>然后捕获。也可以使用<code>/throw new MyException</code>不过通过new的这种方式抛出的是异常的指针，捕获到之后还要释放内存，所以不要使用这种方式太麻烦。</p>
<p>C++ 标准的异常：</p>
<p>C++ 提供了一系列标准的异常，这些类都是 exception 类派生而来的 中，我们可以在程序中使用这些标准的异常。</p>
<table>
<thead>
<tr>
<th>异常</th>
<th>描述 </th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>std::exception</strong></td>
<td>该异常是所有标准 C++ 异常的父类。</td>
</tr>
<tr>
<td>std::bad_alloc</td>
<td>该异常可以通过 new 抛出。</td>
</tr>
<tr>
<td>std::bad_cast</td>
<td>该异常可以通过 dynamic_cast 抛出。</td>
</tr>
<tr>
<td>std::bad_exception</td>
<td>这在处理 C++ 程序中无法预期的异常时非常有用。</td>
</tr>
<tr>
<td>std::bad_typeid</td>
<td>该异常可以通过 typeid 抛出。</td>
</tr>
<tr>
<td><strong>std::logic_error</strong></td>
<td>理论上可以通过读取代码来检测到的异常。</td>
</tr>
<tr>
<td>std::domain_error</td>
<td>当使用了一个无效的数学域时，会抛出该异常。</td>
</tr>
<tr>
<td>std::invalid_argument</td>
<td>当使用了无效的参数时，会抛出该异常。</td>
</tr>
<tr>
<td>std::length_error</td>
<td>当创建了太长的 std::string 时，会抛出该异常。</td>
</tr>
<tr>
<td>std::out_of_range</td>
<td>该异常可以通过方法抛出，例如 std::vector 和 std::bitset&lt;&gt;::operator<a href></a>。</td>
</tr>
<tr>
<td><strong>std::runtime_error</strong></td>
<td>理论上不可以通过读取代码来检测到的异常。</td>
</tr>
<tr>
<td>std::overflow_error</td>
<td>当发生数学上溢时，会抛出该异常。</td>
</tr>
<tr>
<td>std::range_error</td>
<td>当尝试存储超出范围的值时，会抛出该异常。</td>
</tr>
<tr>
<td>std::underflow_error</td>
<td>当发生数学下溢时，会抛出该异常。</td>
</tr>
</tbody>
</table>
<p>我们也可以通过集成exception来自定义一个异常。</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="hljs-comment">//自定义（类似于JavaNullPointerException）</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NullPointerException</span> :</span> <span class="hljs-keyword">public</span> exception &#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	NullPointerException(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* msg) : exception(msg) &#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mydiv</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (b &gt; <span class="hljs-number">10</span>) &#123;</span><br><span class="line">	    <span class="hljs-comment">//标准异常</span></span><br><span class="line">		<span class="hljs-keyword">throw</span> out_of_range(<span class="hljs-string">"超出范围"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (b == <span class="hljs-literal">NULL</span>) &#123;</span><br><span class="line">		<span class="hljs-keyword">throw</span> NullPointerException(<span class="hljs-string">"空指针"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) &#123;</span><br><span class="line">	    <span class="hljs-comment">//标准异常</span></span><br><span class="line">		<span class="hljs-keyword">throw</span> invalid_argument(<span class="hljs-string">"参数不合法"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">try</span> &#123;</span><br><span class="line">		mydiv(<span class="hljs-number">8</span>, <span class="hljs-literal">NULL</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">catch</span> (out_of_range e1) &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; e1.what() &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">catch</span> (NullPointerException&amp; e2) &#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; e2.what() &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">catch</span> (...) &#123;</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="类型的转换"><a href="#类型的转换" class="headerlink" title="类型的转换"></a>类型的转换</h4><p>C++提供了4中类型转换操作符</p>
<ol>
<li>const_cast：修改类型的const或volatile属性</li>
<li>static_cast：静态类型转换，如int转换成char，指针与void之间互转。如：float<em>转成void</em>、Bean<em>转成void</em>、函数指针转成void*等；子类指针/引用与 父类指针/引用 转换。</li>
<li>dynamic_cast：动态类型转换，比如子类和父类之间多态类型的转换</li>
<li>reinterpret_cast：对指针、引用进行原始转换 </li>
</ol>
<p>使用格式：</p>
<p>TYPE B = static_cast(TYPE)(a)</p>
<p>类型强制转换的时候，其实我们可以直接使用(TYPE)这种形式转换比如<code>int i; double j = (int)i</code>，C++吧转换类型细化，可以让意图更加明显，可读性更高。</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">int</span> type)</span></span>&#123;	</span><br><span class="line">	<span class="hljs-keyword">switch</span> (type)&#123;</span><br><span class="line">	<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:	&#123;</span><br><span class="line">				<span class="hljs-keyword">int</span> i = <span class="hljs-number">9</span>;</span><br><span class="line">				<span class="hljs-keyword">return</span> &amp;i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:	&#123;</span><br><span class="line">				<span class="hljs-keyword">int</span> a = <span class="hljs-string">'X'</span>;</span><br><span class="line">				<span class="hljs-keyword">return</span> &amp;a;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">default</span>:&#123;</span><br><span class="line">				<span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func2</span><span class="hljs-params">(<span class="hljs-keyword">char</span>* c_p)</span></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; *c_p &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;	</span><br><span class="line">	<span class="hljs-comment">//int i = 0;</span></span><br><span class="line">	自动转换 可读性不高</span><br><span class="line">	<span class="hljs-comment">//double d = i;</span></span><br><span class="line">	<span class="hljs-comment">//double d = 9.5;</span></span><br><span class="line">	<span class="hljs-comment">//int i = d;</span></span><br><span class="line">    </span><br><span class="line">	<span class="hljs-keyword">int</span> i = <span class="hljs-number">8</span>;</span><br><span class="line">	<span class="hljs-keyword">double</span> d = <span class="hljs-number">9.5</span>;</span><br><span class="line">	<span class="hljs-comment">//意图明显 可读性高</span></span><br><span class="line">	i = <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">int</span>&gt;(d);</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-comment">//void* -&gt; char*</span></span><br><span class="line">	<span class="hljs-comment">//char* c_p = (char*)func(2);</span></span><br><span class="line">	<span class="hljs-comment">//char* c_p = static_cast&lt;char*&gt;(func(2));</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//C++ 意图明显</span></span><br><span class="line">	func2(<span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">char</span>*&gt;(func(<span class="hljs-number">2</span>)));</span><br><span class="line">	<span class="hljs-comment">//C</span></span><br><span class="line">	func2((<span class="hljs-keyword">char</span>*)(func(<span class="hljs-number">2</span>)));</span><br><span class="line">	</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>假如我们想要修改一个使用const修饰的常量，正常情况下无法修改，只能通过指针间接的去修改，但是别人阅读起这个代码来就比较费劲了。而使用const_cast，意图明显就更加容易理解。<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> c[])</span></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//通过指针间接赋值，其他人并不知道，这次转型是为了去常量</span></span><br><span class="line">	<span class="hljs-comment">//char* c_p = (char*)c;</span></span><br><span class="line">	<span class="hljs-comment">//c_p[1] = 'X';</span></span><br><span class="line">	<span class="hljs-comment">//提高了可读性</span></span><br><span class="line">	<span class="hljs-keyword">char</span>* c_p = <span class="hljs-keyword">const_cast</span>&lt;<span class="hljs-keyword">char</span>*&gt;(c);</span><br><span class="line">	c_p[<span class="hljs-number">1</span>] = <span class="hljs-string">'Y'</span>;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; c &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">char</span> c[] = <span class="hljs-string">"hello"</span>;</span><br><span class="line">	func(c);</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>子类和父类之间多态类型的转换使用dynamic_cast来提高可读性,防止不可预见的错误。</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"人"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Boy</span> :</span> <span class="hljs-keyword">public</span> Person&#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"boy"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">chasing</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"泡妞"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Girl</span> :</span> <span class="hljs-keyword">public</span> Person&#123;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"girl"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">carebaby</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"生孩子"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func</span><span class="hljs-params">(Person* obj)</span></span>&#123;	</span><br><span class="line">	<span class="hljs-comment">//调用子类的特有的函数，转为实际类型</span></span><br><span class="line">	<span class="hljs-comment">//并不知道转型失败</span></span><br><span class="line">	<span class="hljs-comment">//Boy* b = (Boy*)obj;</span></span><br><span class="line">	<span class="hljs-comment">//b-&gt;print();</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//转型失败，返回NULL</span></span><br><span class="line">	Boy* b = <span class="hljs-keyword">dynamic_cast</span>&lt;Man*&gt;(obj);	</span><br><span class="line">	<span class="hljs-keyword">if</span> (b != <span class="hljs-literal">NULL</span>)&#123;</span><br><span class="line">		b-&gt;chasing();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Girl* w = <span class="hljs-keyword">dynamic_cast</span>&lt;Woman*&gt;(obj);</span><br><span class="line">	<span class="hljs-keyword">if</span> (g != <span class="hljs-literal">NULL</span>)&#123;</span><br><span class="line">		g-&gt;carebaby();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//Girl g1;</span></span><br><span class="line">	<span class="hljs-comment">//Person *p1 = &amp;g1;</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//func(p1);</span></span><br><span class="line"></span><br><span class="line">	Girl g2;</span><br><span class="line">	Girl* w_p = &amp;g2;</span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上的代码中，一个函数中需要传入一个Person对象，方法内部使用原始转换方式强制转换成Boy对象。加入我们传入一个Girl对象进来，其实是转型失败的。使用原始方式即使转型失败我们也察觉不到。使用dynamic_cast，如果转型失败会返回一个NULL值。</p>
<p>使用reinterpret_cast来转型函数指针<br><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">func1</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"func1"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">func2</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"func2"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-keyword">return</span> <span class="hljs-string">"abc"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-comment">//定义函数指针类型</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span><span class="hljs-params">(*f_p)</span><span class="hljs-params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//函数指针数组</span></span><br><span class="line">	f_p f_array[<span class="hljs-number">6</span>];</span><br><span class="line">	<span class="hljs-comment">//赋值</span></span><br><span class="line">	f_array[<span class="hljs-number">0</span>] = func1;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//C方式</span></span><br><span class="line">	<span class="hljs-comment">//f_array[1] = (f_p)(func2);</span></span><br><span class="line">	<span class="hljs-comment">//C++方式</span></span><br><span class="line">	f_array[<span class="hljs-number">1</span>] = <span class="hljs-keyword">reinterpret_cast</span>&lt;f_p&gt;(func2);</span><br><span class="line"></span><br><span class="line">	f_array[<span class="hljs-number">1</span>]();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="C-中的io操作"><a href="#C-中的io操作" class="headerlink" title="C++中的io操作"></a>C++中的io操作</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//IO流</span></span><br><span class="line"><span class="hljs-comment">//文本文件操作</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">char</span>* fname = <span class="hljs-string">"c://dest.txt"</span>;</span><br><span class="line">	<span class="hljs-comment">//输出流</span></span><br><span class="line">	<span class="hljs-function">ofstream <span class="hljs-title">fout</span><span class="hljs-params">(fname)</span></span>;</span><br><span class="line">	<span class="hljs-comment">//创建失败</span></span><br><span class="line">	<span class="hljs-keyword">if</span> (fout.bad())&#123; </span><br><span class="line">		<span class="hljs-keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fout &lt;&lt; <span class="hljs-string">"大海"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	fout &lt;&lt; <span class="hljs-string">"哈哈哈"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-comment">//关闭</span></span><br><span class="line">	fout.close();</span><br><span class="line">	<span class="hljs-comment">//读取</span></span><br><span class="line">	<span class="hljs-function">ifstream <span class="hljs-title">fin</span><span class="hljs-params">(fname)</span></span>;</span><br><span class="line">	<span class="hljs-keyword">if</span> (fin.bad())&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">char</span> ch;</span><br><span class="line">	<span class="hljs-keyword">while</span> (fin.get(ch))&#123;</span><br><span class="line">		<span class="hljs-comment">//输出</span></span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; ch;</span><br><span class="line">	&#125;</span><br><span class="line">	fin.close();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="hljs-comment">//二进制文件</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">char</span>* src = <span class="hljs-string">"c://test.jpg"</span>;</span><br><span class="line">	<span class="hljs-keyword">char</span>* dest = <span class="hljs-string">"c://test_1.jpg"</span>;</span><br><span class="line">	<span class="hljs-comment">//输入流</span></span><br><span class="line">	<span class="hljs-function">ifstream <span class="hljs-title">fin</span><span class="hljs-params">(src, ios::binary)</span></span>;</span><br><span class="line">	<span class="hljs-comment">//输出流</span></span><br><span class="line">	<span class="hljs-function">ofstream <span class="hljs-title">fout</span><span class="hljs-params">(dest, ios::binary)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">if</span> (fin.bad() || fout.bad())&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//end of file</span></span><br><span class="line">	<span class="hljs-keyword">while</span> (!fin.eof())&#123;</span><br><span class="line">		<span class="hljs-comment">//读取</span></span><br><span class="line">		<span class="hljs-keyword">char</span> buff[<span class="hljs-number">1024</span>] = &#123;<span class="hljs-number">0</span>&#125;;</span><br><span class="line">		fin.read(buff,<span class="hljs-number">1024</span>);</span><br><span class="line"></span><br><span class="line">		<span class="hljs-comment">//写入</span></span><br><span class="line">		fout.write(buff,<span class="hljs-number">1024</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//关闭</span></span><br><span class="line">	fin.close();</span><br><span class="line">	fout.close();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-对象的持久化"><a href="#C-对象的持久化" class="headerlink" title="C++对象的持久化"></a>C++对象的持久化</h4><figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">	Person()</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	Person(<span class="hljs-keyword">char</span> * name, <span class="hljs-keyword">int</span> age)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;name = name;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="hljs-string">","</span> &lt;&lt; age &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">	<span class="hljs-keyword">char</span> * name;</span><br><span class="line">	<span class="hljs-keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-function">Person <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-string">"老蔡"</span>, <span class="hljs-number">22</span>)</span></span>;</span><br><span class="line">	<span class="hljs-function">Person <span class="hljs-title">p2</span><span class="hljs-params">(<span class="hljs-string">"老吴"</span>, <span class="hljs-number">18</span>)</span></span>;</span><br><span class="line">	<span class="hljs-comment">//输出流</span></span><br><span class="line">	<span class="hljs-function">ofstream <span class="hljs-title">fout</span><span class="hljs-params">(<span class="hljs-string">"c://obj.data"</span>, ios::binary)</span></span>;</span><br><span class="line">	fout.write((<span class="hljs-keyword">char</span>*)(&amp;p1), <span class="hljs-keyword">sizeof</span>(Person)); <span class="hljs-comment">//指针能够读取到正确的数据，读取内存区的长度</span></span><br><span class="line">	fout.write((<span class="hljs-keyword">char</span>*)(&amp;p2), <span class="hljs-keyword">sizeof</span>(Person));</span><br><span class="line">	fout.close();</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//输入流</span></span><br><span class="line">	<span class="hljs-function">ifstream <span class="hljs-title">fin</span><span class="hljs-params">(<span class="hljs-string">"c://obj.data"</span>, ios::binary)</span></span>;</span><br><span class="line">	Person tmp;</span><br><span class="line">	<span class="hljs-comment">//从哪里读 督导哪里结束  传入一个指针来操作加载进来的对象</span></span><br><span class="line">	fin.read((<span class="hljs-keyword">char</span>*)(&amp;tmp), <span class="hljs-keyword">sizeof</span>(Person));</span><br><span class="line">	tmp.print();</span><br><span class="line"></span><br><span class="line">	fin.read((<span class="hljs-keyword">char</span>*)(&amp;tmp), <span class="hljs-keyword">sizeof</span>(Person));</span><br><span class="line">	tmp.print();</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-标准模板库"><a href="#C-标准模板库" class="headerlink" title="C++标准模板库"></a>C++标准模板库</h4><p>(stl standard template library )</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">string</span> s1 = <span class="hljs-string">"craig david"</span>;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">s2</span><span class="hljs-params">(<span class="hljs-string">" 7 days"</span>)</span></span>;</span><br><span class="line">	<span class="hljs-built_in">string</span> s3 = s1 + s2;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; s3 &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-comment">//转c字符串</span></span><br><span class="line">	<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* c_str = s3.c_str();</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; c_str &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-comment">//s1.at(2);</span></span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>序列式容器：元素的排列顺序与元素本身无关，由添加的顺序决定。</p>
<p>序列容器一般有：List,vertor,queue,dequeue,stack,priority queue,</p>
<p>关联式容器：如set,map</p>
<figure class="highlight c++ hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//动态数组</span></span><br><span class="line">	<span class="hljs-comment">//不需要使用动态内存分配，就可以使用动态数组</span></span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v;</span><br><span class="line">	v.push_back(<span class="hljs-number">12</span>);</span><br><span class="line">	v.push_back(<span class="hljs-number">10</span>);</span><br><span class="line">	v.push_back(<span class="hljs-number">5</span>);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; v.size(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; v[i] &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//返回第一个元素</span></span><br><span class="line">	v.front()</span><br><span class="line">	<span class="hljs-comment">//返回最后一个元素</span></span><br><span class="line">	v.back()</span><br><span class="line">	<span class="hljs-comment">//清空</span></span><br><span class="line">	v.clear()</span><br><span class="line">	<span class="hljs-comment">//删除指定元素</span></span><br><span class="line">	v.erase(v.begin(),b.end())</span><br><span class="line"></span><br><span class="line">	system(<span class="hljs-string">"pause"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/c-c/">c/c++</a>
                </div>
            </div>
        </div>
        
        
        
        <div class="social-share"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/05/19/technology/Makefile相关/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Makefile相关</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2019/05/12/technology/JNI基础知识/">
                <span class="level-item">JNI基础知识</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">Comentarios</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'https://chsmy.github.io/2019/05/19/technology/C-基础知识/';
        this.page.identifier = '2019/05/19/technology/C-基础知识/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'hexo-theme-icarus' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>
                
                




<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right is-sticky">
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Catálogo
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#Hello-World">
        <span class="has-mr-6">1</span>
        <span>Hello World</span>
        </a></li><li>
        <a class="is-flex" href="#自定义命名空间">
        <span class="has-mr-6">2</span>
        <span>自定义命名空间</span>
        </a></li><li>
        <a class="is-flex" href="#C-中的引用。">
        <span class="has-mr-6">3</span>
        <span>C++中的引用。</span>
        </a></li><li>
        <a class="is-flex" href="#类">
        <span class="has-mr-6">4</span>
        <span>类</span>
        </a></li><li>
        <a class="is-flex" href="#构造函数的属性初始化">
        <span class="has-mr-6">5</span>
        <span>构造函数的属性初始化</span>
        </a></li><li>
        <a class="is-flex" href="#C-动态内存分配">
        <span class="has-mr-6">6</span>
        <span>C++动态内存分配</span>
        </a></li><li>
        <a class="is-flex" href="#C-中的静态属性和方法">
        <span class="has-mr-6">7</span>
        <span>C++中的静态属性和方法</span>
        </a></li><li>
        <a class="is-flex" href="#C-中类的大小">
        <span class="has-mr-6">8</span>
        <span>C++中类的大小</span>
        </a></li><li>
        <a class="is-flex" href="#友元函数和友元类">
        <span class="has-mr-6">9</span>
        <span>友元函数和友元类</span>
        </a></li><li>
        <a class="is-flex" href="#C-中的运算符重载">
        <span class="has-mr-6">10</span>
        <span>C++中的运算符重载</span>
        </a></li><li>
        <a class="is-flex" href="#继承多态">
        <span class="has-mr-6">11</span>
        <span>继承多态</span>
        </a></li><li>
        <a class="is-flex" href="#虚继承和虚函数">
        <span class="has-mr-6">12</span>
        <span>虚继承和虚函数</span>
        </a></li><li>
        <a class="is-flex" href="#纯虚函数">
        <span class="has-mr-6">13</span>
        <span>纯虚函数</span>
        </a></li><li>
        <a class="is-flex" href="#模板函数和模板类">
        <span class="has-mr-6">14</span>
        <span>模板函数和模板类</span>
        </a></li><li>
        <a class="is-flex" href="#异常">
        <span class="has-mr-6">15</span>
        <span>异常</span>
        </a></li><li>
        <a class="is-flex" href="#类型的转换">
        <span class="has-mr-6">16</span>
        <span>类型的转换</span>
        </a></li><li>
        <a class="is-flex" href="#C-中的io操作">
        <span class="has-mr-6">17</span>
        <span>C++中的io操作</span>
        </a></li><li>
        <a class="is-flex" href="#C-对象的持久化">
        <span class="has-mr-6">18</span>
        <span>C++对象的持久化</span>
        </a></li><li>
        <a class="is-flex" href="#C-标准模板库">
        <span class="has-mr-6">19</span>
        <span>C++标准模板库</span>
        </a></li></ul>
        </div>
    </div>
</div>

    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.png" alt="C++基础知识" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 John Doe&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://github.com/chsmy">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://github.com/chsmy">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/chsmy">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("CHS");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Kembali ke atas" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Entradas',
                PAGES: 'Pages',
                CATEGORIES: 'Categorias',
                TAGS: 'Etiquetas',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>